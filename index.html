<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Graph Editor</title>
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
		<link rel="stylesheet" href="app.css">
		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="app.js"></script>

		<script type="text/javascript">
			var editor;

			$(document).ready(function(){
					$("#download").click(function(){
							adj_list = ""
							for(var i=0; i<links.length; i++){
									adj_list += links[i].source.id + " " + links[i].target.id + "\n";
									}

							 var pom = document.createElement('a');
							 pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(adj_list));
							 pom.setAttribute('download', "adj.txt");
							 pom.click();
						 });

						editor = new Editor({"container":"#editor-container"});

						$(".graph-type").change(function(event){
							editor.undirected = event.target.value === "undirected" ? true : false;
							editor.restart();
						});

						$("#attr-view").click(function(){
							$("#node-attr").dialog({
																			modal:true, 
																			title:"Node Attributes View", 
																			closeText:"close", 
																			closeOnEscape:true,
																			hide : {effect : "fade", duration:100}
																		});
							$(".ui-widget-overlay").click(function(){ $("#node-attr").dialog("close"); });
						});
					});
		

		</script>
  </head>
  
	<body>
		<div id="node-attr"></div>
		<div id="editor-container"></div>
		<div class="container bs-docs-container">
			<div class="radio-inline">
				<label>
					<input type="radio" name="options" id="options_directed" class="graph-type" value="directed" checked>
						Directed Graph
				</label>
			</div>
			<div class="radio-inline">
				<label>
					<input type="radio" name="options" id="options_undirected" class="graph-type" value="undirected">
						Undirected Graph
				</label>
			</div>
		
			<div style="display:block">
				<button class="btn btn-primary" id="download">Download Adjacency List</button>
				<button class="btn btn-primary" id="attr-view">Attribute view</button>
			</div>
		</div>
	</body>

</html>
